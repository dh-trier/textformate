<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>Textformate</title>

	<link rel="stylesheet" href="dist/reset.css">
	<link rel="stylesheet" href="dist/reveal.css">
	<link rel="stylesheet" href="dist/theme/simple.css" id="theme">
	<!-- Theme used for syntax highlighted code -->
	<link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">
</head>
<body>
	<div class="reveal">
	<div class="slides">

<section data-markdown=""
         data-separator="^\n--\n" 
         data-separator-vertical="^\n---\n" 
         data-charset="utf-8" 
         data-background-image="img/basics/uni-trier_icon.png" 
         data-background-size="70px" 
         data-background-position="right 10px top 10px">

<!-- ============ BEGINNING OF SLIDE CONTENT =========== -->

<textarea data-template>

<h1>Abgeleitete Textformate</h1>
<br/>
<hr/>
<br/>
<br/>
<p>Christof Schöch (Trier)</p>
<p><strong>AG Recht und Ethik in Text+, 8. Juli 2022</strong></p>
<br/>
<hr/>
<br/>
<img height="55" data-src="img/basics/uni-trier.png">


--
## Überblick
1. [TDM und Urheberrecht](#/2)
1. [Abgeleitete Textformate](#/3)
  1. [TDM jenseits des Urheberrechts](#/3)
  1. [Vorbilder](#/4)
  1. [Umsetzung](#/5)
  1. [Beispiele](#/6)
4. [Fazit](#/7)


--
## (1) TDM und Urheberrecht

---
#### Ausgangslage
* Welche Rechte sind relevant? <!-- .element: class="fragment" data-fragment-index="1" -->
  * Urheberrecht i.e.S. für 'Werke'
  * Leistungsschutzrecht für Datenbanken (§§ 87a-e UrhG)
  * Leistungsschutzrecht der Presseverleger (§§ 87f-h UrhG)
  * Rechte für wissenschaftliche Ausgaben (§ 70 UrhG)
  * Rechte für nachgelassene Werke (§ 71 UrhG)
* Welche Verwertungsrechte gibt es? <!-- .element: class="fragment" data-fragment-index="2" -->
  * Vervielfältigungsrecht (§ 16 UrhG)
  * verändernde Bearbeitungen (vgl. § 23 UrhG)
  * Recht der öffentlichen Zugänglichmachung (§ 19a UrhG) 
* TDM-Schranke (§60d UrhG) <!-- .element: class="fragment" data-fragment-index="3" -->
  * seit 2018, modifiziert 2021 
  * erlaubt manches, aber mit Bedingungen und Grenzen 


---
#### Die TDM-Schranke (§60d UrhG 2018, 2021)
* erlaubt ist:  <!-- .element: class="fragment" data-fragment-index="1" -->
  * Erstellen von Korpora aus Werken jedweder Art für das TDM <!-- .element: class="fragment" data-fragment-index="2" -->
  * einschließlich aller erforderlichen Bearbeitungen und Vervielfältigungen <!-- .element: class="fragment" data-fragment-index="3" -->
  * einschließlich Normalisieren, Strukturieren, Kategorisieren, Annotieren <!-- .element: class="fragment" data-fragment-index="4" -->
  * Weitergabe an Projektteam und (vorübergehend) an Dritte für Qualitätssicherung <!-- .element: class="fragment" data-fragment-index="5" -->
* unter folgenden Voraussetzungen:  <!-- .element: class="fragment" data-fragment-index="6" -->
  * man verfolgt wissenschaftliche (vor 2021: nicht-kommerzielle) Forschung <!-- .element: class="fragment" data-fragment-index="7" -->
  * man hat rechtmäßigen Zugang zum Ursprungsmaterial <!-- .element: class="fragment" data-fragment-index="8" -->
* und mit folgenden Einschränkungen: <!-- .element: class="fragment" data-fragment-index="9" -->
  * rechtmäßiger Zugang zu Materialien wird vorausgesetzt, nicht automatisch gewährt <!-- .element: class="fragment" data-fragment-index="9" -->
  * kein Recht auf Umgehung technischer Schutzmaßnahmen (aber Recht auf Zugang §95) <!-- .element: class="fragment" data-fragment-index="10" -->
  * keine Anschlussforschung durch Dritte <!-- .element: class="fragment" data-fragment-index="11" -->
  * (bis 2021) Korpus darf nur von Bibliothek o.ä. archiviert werden <!-- .element: class="fragment" data-fragment-index="12" -->

---
#### Vier Lösungsansätze
1. Zugang zu lizenzierten Inhalten über eine API; <!-- .element: class="fragment" data-fragment-index="1" -->
1. Nutzung von Daten auf Analyseplattformen;  <!-- .element: class="fragment" data-fragment-index="2" -->
1. Forschung im "closed room" einer Institution <!-- .element: class="fragment" data-fragment-index="3" -->
1. Arbeit mit abgeleiteten Textformaten <!-- .element: class="fragment" data-fragment-index="4" -->


--
## (2) Abgeleitete Textformate:<br/>TDM jenseits des Urheberrechts


---
#### Kriterien, die urheberrechtlichen Schutz begründen
* Perspektive der Produktion: Werk (§2 UrhG) <!-- .element: class="fragment" data-fragment-index="1" -->
  * "persönliche Schöpfung" (nicht automatisch generiert)
  * "geistiger Gehalt" (aber nicht: literarische Qualität)
  * "wahrnehmbare Form" (nicht nur: Informationen) 
  * "Individualität" des Urhebers erkennbar 
  * Gestaltungsspielraum des Urhebers (bspw. Editionen)
* Perspektive der Rezeption:  <!-- .element: class="fragment" data-fragment-index="2" -->
  * Möglichkeit des Werkgenusses (durch Lesende)
  * Wiedererkennbarkeit (des Autors / Werks / Figuren)
  * Rekonstruierbarkeit (des Werks)



---
#### Abgeleitete Textformate: Definition
>"Ausgangspunkt sind Bestände urheberrechtlich geschützter Texte (die Ausgangstexte, im Urheberrecht als 'Ursprungsmaterial' bezeichnet), zu denen eine Institution legalen Zugang hat. Diese Textbestände werden durch die Anwendung von Verarbeitungsroutinen, die einerseits eine gezielte Informationsanreicherung (u.a. durch Annotation), andererseits auch eine gezielte Informationsreduktion (u.a. durch Randomisierung oder Löschung) darstellen, in sogenannte abgeleitete Textformate verwandelt. Diese abgeleiteten Textbestände stehen außerhalb des Anwendungsgebiets des Urheberrechtes." (ZfdG, 2020)


--
## (3) Abgeleitete Textformate: Vorbilder


---
#### CrossAsia N-Gram Service
<img src="img/cangs.png" height="400"/>

* 13.000 Texte
* https://crossasia.org/service/crossasia-lab/crossasia-n-gram-service/


---
#### CrossAsia N-Gram Service
<a href="img/cangs-txt.png"><img src="img/cangs-txt.png" height="500"/></a>


---
#### Stylo for R Datasets
<img src="img/csg.png" height="400"/>

* mehrere Dutzend Texte
* https://github.com/computationalstylistics/stylo/tree/master/data


---
#### Stylo for R Datasets 
<a href="img/lee-tdm.png"><img src="img/lee-tdm.png" height="500"/></a>


---
#### HathiTrust Extracted Features Dataset
<a href="img/htrc.png"><img src="img/htrc.png" height="400"/></a>

* 15.7 Millionen Bände (!)
* https://analytics.hathitrust.org/datasets

---
#### HathiTrust Extracted Features Dataset
<a href="img/htrc2.png"><img src="img/htrc2.png" height="500"/></a>&nbsp;&nbsp;<a href="img/htrc1.png"><img src="img/htrc1.png" height="500"/></a>

---
#### Weitere Anbieter
* Google Ngrams <!-- .element: class="fragment" data-fragment-index="1" -->
  * https://books.google.com/ngrams
  * mehrere Sprachen, chronologisch breit (1800-2018)
  * N-Gramme verschiedener Länge mit Mindest-Häufigkeit
* Leipzig Corpora Collection <!-- .element: class="fragment" data-fragment-index="2" -->
  * https://wortschatz.uni-leipzig.de/en/download 
  * 250 Sprachen, je 1 Million Sätze <!-- .element: class="fragment" data-fragment-index="2" -->
  * zufällige Samples von ganzen Sätzen <!-- .element: class="fragment" data-fragment-index="2" -->
* Open Super-large Crawled ALMAnaCH coRpus (OSCAR) <!-- .element: class="fragment" data-fragment-index="3" -->
  * https://oscar-corpus.com/ <!-- .element: class="fragment" data-fragment-index="3" -->
  * 160 Sprachen, zwischen 19 Tokens und 250 Billionen Tokens  <!-- .element: class="fragment" data-fragment-index="3" -->
  * randomisierte Reihenfolge der Zeichen   <!-- .element: class="fragment" data-fragment-index="3" -->


--
## (3) Abgeleitete Textformate: Umsetzung


---
#### Modell von Text
* Text als gegliederte Zeichensequenz <!-- .element: class="fragment" data-fragment-index="1" -->
  * Token
  * Satz 
  * Segment (motiviert/arbiträr) 
  * Gesamttext 
* Tokens als symbolische Elemente  <!-- .element: class="fragment" data-fragment-index="2" -->
  * Wortform 
  * Lemma 
  * Wortart 
  * morpho-syntaktische Funktion 
  * Bedeutung (Vektor) 
  * syntaktische Relationen 
* Text mit Sequenzinformation <!-- .element: class="fragment" data-fragment-index="3" -->
  * Position der Tokens im Segment/Text 
  * Position der Segmente im Text 


---
#### Anreichung und Reduktion von Informationen
* Gezielte Anreicherung <!-- .element: class="fragment" data-fragment-index="1" -->
  * Lemma 
  * Wortart 
  * Bedeutung 
  * Segmentierung 
  * Häufigkeit 
* Gezielte Reduktion  <!-- .element: class="fragment" data-fragment-index="2" -->
  * bestimmte Eigenschaften der Tokens 
  * Sequenzinformation 
  * Sampling von Einheiten 


---
#### Parameter
* welche Anreicherung findet statt <!-- .element: class="fragment" data-fragment-index="1" -->
* Segmentierung und Segmentlänge <!-- .element: class="fragment" data-fragment-index="1" -->
* welche Reduktion findet statt  <!-- .element: class="fragment" data-fragment-index="1" -->
* => sehr viele verschiedene Textformate sind denkbar!  <!-- .element: class="fragment" data-fragment-index="2" -->


---
### Was sind geeignete Textformate?
* Kriterien der DH <!-- .element: class="fragment" data-fragment-index="1" -->
  * Nützlichkeit für einschlägige Verfahren<br/>(Stilometrie, Topic Modeling, Sentiment Analyse uvm.)
  * Einfach und inkrementell zu erstellen
  * Transparenz des Erstellungsprozesses
* Kriterien des Urheberrechts <!-- .element: class="fragment" data-fragment-index="2" -->
  * Kein Werkgenuss möglich 
  * Keine Wiedererkennbarkeit möglich 
  * Keine Rekonstruierbarkeit möglich 



--
## (4) Abgeleitete Textformate: Beispiele

---
#### Code und Daten
* Textbeispiele (Englisch, Deutsch, Französisch)
* Python-Skripte, die Textformate generieren
* Beispieldateien für Textformate
* Repository: https://github.com/dh-trier/tmr

---
#### Textbeispiel *Effi Briest*
><small>In Front des schon seit Kurfürst Georg Wilhelm von der Familie von Briest bewohnten Herrenhauses zu Hohen-Cremmen fiel heller Sonnenschein auf die mittagsstille Dorfstraße, während nach der Park- und Gartenseite hin ein rechtwinklig angebauter Seitenflügel einen breiten Schatten erst auf einen weiß und grün quadrierten Fliesengang und dann über diesen hinaus auf ein großes, in seiner Mitte mit einer Sonnenuhr und an seinem Rande mit Canna indica und Rhabarberstauden besetztes Rondell warf. Einige zwanzig Schritte weiter, in Richtung und Lage genau dem Seitenflügel entsprechend, lief eine ganz in kleinblättrigem Efeu stehende, nur an einer Stelle von einer kleinen weißgestrichenen Eisentür unterbrochene Kirchhofsmauer, hinter der der Hohen-Cremmener Schindelturm mit seinem blitzenden, weil neuerdings erst wieder vergoldeten Wetterhahn aufragte. Fronthaus, Seitenflügel und Kirchhofsmauer bildeten ein einen kleinen Ziergarten umschließendes Hufeisen, an dessen offener Seite man eines Teiches mit Wassersteg und angeketteltem Boot und dicht daneben einer Schaukel gewahr wurde, deren horizontal gelegtes Brett zu Häupten und Füßen an je zwei Stricken hing – die Pfosten der Balkenlage schon etwas schief stehend. Zwischen Teich und Rondell aber und die Schaukel halb versteckend standen ein paar mächtige alte Platanen. <br/>(Theodor Fontane, Effi Briest, 1896)</small>

---
#### Einfache Term-Dokument-Matrix
<img src="img/eb1-tdm.png" height="450"/></a>


---
#### Einfache Term-Dokument-Matrix
* token-basiertes Format <!-- .element: class="fragment" data-fragment-index="1" -->
* einzeltext-basiertes Format <!-- .element: class="fragment" data-fragment-index="2" -->
* Token kann Wortform oder Lemma sein (= Parameter) <!-- .element: class="fragment" data-fragment-index="3" -->
* Tokens sind annotiert (Annotation = Parameter)  <!-- .element: class="fragment" data-fragment-index="4" -->
* Häufigkeit der Tokens <!-- .element: class="fragment" data-fragment-index="5" -->
* keinerlei Sequenzinformation <!-- .element: class="fragment" data-fragment-index="6" -->
* eine Datei pro Text <!-- .element: class="fragment" data-fragment-index="7" -->


---
#### Segmentweise Aufhebung der lokalen Sequenzinformation
<img src="img/eb-src20.png" height="450"/></a>

---
#### Segmentweise Aufhebung der lokalen Sequenzinformation
* token-basiertes Format <!-- .element: class="fragment" data-fragment-index="1" -->
* einzeltext-basiertes Format <!-- .element: class="fragment" data-fragment-index="2" -->
* Tokens sind annotiert (Annotation = Parameter)  <!-- .element: class="fragment" data-fragment-index="3" -->
* Text ist segmentiert (Segmentlänge = Parameter) <!-- .element: class="fragment" data-fragment-index="4" -->
* Reihenfolge der Tokens innerhalb des Segments ist randomisiert <!-- .element: class="fragment" data-fragment-index="5" -->
* Reihenfolge der Segmente im Text bleibt erhalten <!-- .element: class="fragment" data-fragment-index="6" -->
* eine Datei pro Text <!-- .element: class="fragment" data-fragment-index="7" -->



---
#### Selektive Reduktion der Token-Information
<img src="img/eb1-tkn-mixed.png" height="450"/></a>

---
#### Selektive Reduktion der Token-Information
* token-basiertes Format <!-- .element: class="fragment" data-fragment-index="1" -->
* einzeltext-basiertes Format <!-- .element: class="fragment" data-fragment-index="2" -->
* Tokens werden POS annotiert <!-- .element: class="fragment" data-fragment-index="3" -->
* Selektive Ersetzung von Tokens durch POS<br/>Parameter: bestimmte POS vs. bestimmter Anteil von Tokens <!-- .element: class="fragment" data-fragment-index="4" -->
* eine Datei pro Text <!-- .element: class="fragment" data-fragment-index="5" -->


---
#### Selektive Reduktion mit Wort-Vektoren
<img src="img/eb-vectors.png" height="400"/></a>

---
#### Selektive Reduktion mit Wort-Vektoren
* token-basiertes Format <!-- .element: class="fragment" data-fragment-index="1" -->
* erfordert Trainingskorpus <!-- .element: class="fragment" data-fragment-index="2" -->
* Anreichung: POS, Wordvektor <!-- .element: class="fragment" data-fragment-index="3" -->
* Reduktion: Wortform <!-- .element: class="fragment" data-fragment-index="4" -->
* eine Datei pro Text <!-- .element: class="fragment" data-fragment-index="5" -->


---
#### N-Gramm-Häufigkeiten
<img src="img/google-trigrams.png" height="400"/></a>

* Google Ngrams: Trigramme, Englisch, pro Jahr 

---
### N-Gramm-Häufigkeiten
* N-Gramme sind Sequenzen aufeinanderfolgender Tokens <!-- .element: class="fragment" data-fragment-index="1" -->
* textübergreifendes Format <!-- .element: class="fragment" data-fragment-index="2" -->
* Anreicherung: bspw. POS-Annotation <!-- .element: class="fragment" data-fragment-index="3" -->
* Reduktion: seltene N-Gramme; Zuordnung zu Einzeltext <!-- .element: class="fragment" data-fragment-index="4" -->
* Häufigkeit über mehrere Texte hinweg <!-- .element: class="fragment" data-fragment-index="5" -->
* Aggregation nach Jahr, Textsorte, Varietät, Autor*in, etc. <!-- .element: class="fragment" data-fragment-index="6" -->




--
## Abschluss


---
### Weitere Aspekte 
* Formate, die auf Word Embeddings (static / contextual) basieren <!-- .element: class="fragment" data-fragment-index="1" -->
* Rekonstruktion von Volltexten (u.a. mit Sprachmodellen) <!-- .element: class="fragment" data-fragment-index="2" -->
* Rekonstruktion bei Kombination mehrerer Textformate  <!-- .element: class="fragment" data-fragment-index="3" -->
* Eignung verschiedener Formate für verschiedene Methoden (bag-of-words vs. sequenzabhängig) <!-- .element: class="fragment" data-fragment-index="4" -->



---
#### Agenda
* Auswahl und Standardisierung einzelner Formate (DH-Community)  <!-- .element: class="fragment" data-fragment-index="1" -->
* Urheberrechtliche Prüfung einzelner Formate (Rechtswissenschaften) <!-- .element: class="fragment" data-fragment-index="2" -->
* Zertifizierung der Erstellungsprozesse (Bibliotheken, Infrastrukturanbieter) <!-- .element: class="fragment" data-fragment-index="3" -->
* Publikation von Beipieldatensätzen (DH-Community, Bibliotheken) <!-- .element: class="fragment" data-fragment-index="4" -->
* Benchmarking und Showcasing der Formate (DH und Informatik) <!-- .element: class="fragment" data-fragment-index="5" -->


---
### Arbeitsplan in Text+
* Vorgehensweise <!-- .element: class="fragment" data-fragment-index="1" -->
  * Mehrere Textformate spezifizieren
  * Mehrere Beispielkorpora identifizieren und transformieren
  * Evaluation der Textformate mit Blick auf Urheberrecht und CLS-Methoden
* Ziel / Ergebnisse <!-- .element: class="fragment" data-fragment-index="2" -->
  * Spezifikation publizieren
  * Beispielkorpora publizieren
  * Evaluationsergebnisse publizieren
  * Vorschläge zur Umsetzung in Bibliotheken machen




---
#### Literatur
<small>

* Christof Schöch, Frédéric Döhl, Achim Rettinger, Evelyn Gius, Peer Trilcke, Peter Leinen, Fotis Jannidis, Maria Hinzmann, Jörg Röpke: "Abgeleitete Textformate: Text und Data Mining mit urheberrechtlich geschützten Textbeständen", *Zeitschrift für digitale Geisteswissenschaften*, Heft 5, 2020, http://www.zfdg.de/2020_006.
* Karina Grisse, ‘Nutzbarmachung urheberrechtlich geschützter Textbestände für die Forschung durch Dritte – Rechtliche Bedingungen und Möglichkeiten’, RuZ - Recht und Zugang, 1.2 (2020), 143–59 <https://doi.org/10.5771/2699-1284-2020-2-143>
* Jotzo, Florian, ‘Der Schutz großer Textbestände nach dem UrhG – Die Nutzbarmachung fremder Textbestände für die Forschung’, RuZ - Recht und Zugang, 1.2 (2020), 128–42 <https://doi.org/10.5771/2699-1284-2020-2-128>
* Heesen, Hendrik, and Leonie Jüngels, ‘Der Regierungsentwurf Der Text Und Data Mining-Schranken (§§ 44b, 60d UrhG-E)’, RuZ - Recht Und Zugang, 2.1 (2021), 45–55 <https://doi.org/10.5771/2699-1284-2021-1-45>
* Höhmann, Johannes, Achim Rettinger, and Kai Kugler. “InvBERT: Text Reconstruction from Contextualized Embeddings Used for Derived Text Formats of Literary Works.” ArXiv:2109.10104 [Cs], September 21, 2021. http://arxiv.org/abs/2109.10104.

</small>

--
## Bonus-Folien

---
#### Einige Textformate im Überblick
<img src="img/uebersicht.png" height="500"/></a>



</textarea>

<!-- ============ END OF SLIDE CONTENT =========== -->

</section>

	</div>
	</div>

	<script src="dist/reveal.js"></script>
	<script src="plugin/notes/notes.js"></script>
	<script src="plugin/markdown/markdown.js"></script>
	<script src="plugin/highlight/highlight.js"></script>
	<script>
		// More info about initialization & config:
		// - https://revealjs.com/initialization/
		// - https://revealjs.com/config/
		Reveal.initialize({
			hash: true,
            progress: true,
            slideNumber: true,
            fragments: true,
            center: false,
			// Learn about plugins: https://revealjs.com/plugins/
			plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
		});
	</script>
</body>
</html>
